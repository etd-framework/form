/**!
	* @package     @etd-framework/form
	*
	* @version     2.0.0
	* @copyright   Copyright (C) 2016 ETD Solutions. Tous droits réservés.
	* @license     Apache-2.0 
	* @author      ETD Solutions http://etd-solutions.com
*/
define(["module","exports","etdsolutions/base"],function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function g(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function h(a,b){var c=new FileReader;c.onload=function(a){b(a.target.result)},c.readAsDataURL(a)}Object.defineProperty(b,"__esModule",{value:!0});var i=d(c),j=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",l=function(a){function b(a,c){e(this,b);var d=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return d.browseBtn=d.element.querySelector(".btn-browse"),d.cancelBtn=d.element.querySelector(".btn-cancel"),d.deleteBtn=d.element.querySelector(".btn-delete"),d.input=d.element.querySelector(".avatar-file"),d.img=d.element.querySelector(".avatar-img"),d.hideFileInput(),d.cancelBtn.style.display="none",d.deleteBtn.style.display="none",d.bindEvents(),d}return g(b,a),j(b,[{key:"hideFileInput",value:function(){return this.input.style.visibility="hidden",this.input.style.position="absolute",this.input.style.height="1px",this.input.style.width="1px",this.input.style.top="-15000px",this.input.style.left="-15000px",this}},{key:"bindEvents",value:function(){var a=this;this.input.addEventListener("change",function(b){h(this.files[0],function(b){a.img.style.backgroundImage="url('"+b+"')",a.img.style.backgroundPosition="50% 50%",a.img.style.backgroundSize="cover"}),a.browseBtn.style.display="none",a.cancelBtn.style.display="inline-block"}),this.browseBtn.addEventListener("click",function(b){return b.preventDefault(),a.input.click(),!1}),this.cancelBtn.addEventListener("click",function(b){return b.preventDefault(),a.img.style.backgroundImage="url('"+k+"')",a.browseBtn.style.display="inline-block",a.cancelBtn.style.display="none",a.input.value="",!1})}}]),b}(i.default);b.default=l,a.exports=b.default});